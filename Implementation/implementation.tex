\chapter{Implementation}

\section{Divisions}
- Motivation behind split divisions
- all types of divisions and tying matchup to divisions


\section{Performance Metrics}

\subsection{Winnings}

\subsection{TrueSkill}


\section{Strategy Analysis}

We used several metrics to try to figure out how different agents behaved, and how they differed in their behavior. Some of these were primarily for debugging, others for insight-generation.

\subsection{Cashflow}

Some agents play slightly worse than others in all situations. Others might usually win, but lose very hard against certain exploiters. Yet others would prefer to "avoid losing", and make small gains but never really exploit others.

To distinguish which agents were exploiting which how much, we attempted to measure cashflow, how much money was each agent giving over to each agent on average.

\todo{IMAGE: insert example cashflow}

Cashflow was computed individually per round, though conceptually it would not be impossible to compute it on average throughout. However, it is very sensitive to the team composition, which changes with every round, so we found it a better tool to use for specific rounds.

\subsection{Strategy Vector}

\subsection{Aggression and Tightness}
(\cite{PokerStrategy})



\section{Agents}

\subsection{Baselines}



\subsection{Q-Learning}
-Definition of Q-function
-Why discrete action space is forced, and how we discretized our behavior
-Bellman equation, why we both use and ignore it
-variants we used in our engine
(\cite{SpinningUp2018})

\subsection{Soft Actor-Critic}
\cite{SAC_main}
-Basic ideas behind SAC:
    -policy network + value network
    -train value network on outcomes, train policy network on value network
    -policy outputs a gaussian distribution, is rewarded for a wide spread
    -this encourages exploration where it doesn't massively reduce value
-Why: it's the latest in DeepRL
-Parameters
(\cite{SpinningUp2018})


\section{Vectorized Poker Engine}
-Requirements from competition
-Need for a fast engine that allowed batching
    -hence, own engine
-pypokerengine too slow
-Treys (\cite{Treys})